<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>AngularJS Todo App</title>

    <!-- External Dependencies -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.3/angular.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js"></script>
  </head>
  <body ng-controller="TodoController as vm">
    <div class="container">
      <h1>My Todo List</h1>

      <!-- Notification -->
      <!-- <div
        class="notification"
        ng-class="{
          'show': vm.notification.show,
          'success': vm.notification.type === 'success',
          'error': vm.notification.type === 'error'
        }"
      >
        {{ vm.notification.message }}
      </div> -->

      <!-- Add Todo Form -->
      <div class="add-todo">
        <form ng-submit="vm.addTodo()" name="todoForm">
          <input
            style="width: 582px"
            type="text"
            ng-model="vm.newTodo.text"
            placeholder="Enter a new todo..."
            ng-keypress="$event.keyCode === 13 && vm.addTodo()"
            required
          />
          <button type="submit" ng-disabled="!vm.newTodo.text.trim()">
            Add Todo
          </button>
        </form>
      </div>

      <!-- Filters -->
      <div class="filters">
        <button
          ng-click="vm.setFilter('all')"
          ng-class="{ 'active': vm.currentFilter === 'all' }"
        >
          All ({{ vm.getTotalCount() }})
        </button>
        <button
          ng-click="vm.setFilter('active')"
          ng-class="{ 'active': vm.currentFilter === 'active' }"
        >
          Active ({{ vm.getActiveCount() }})
        </button>
        <button
          ng-click="vm.setFilter('completed')"
          ng-class="{ 'active': vm.currentFilter === 'completed' }"
        >
          Completed ({{ vm.getCompletedCount() }})
        </button>
      </div>

      <!-- Todo List -->
      <ul class="todo-list" ng-show="vm.getFilteredTodos().length > 0">
        <li
          class="todo-item"
          ng-repeat="todo in vm.getFilteredTodos() track by todo.id"
          ng-class="{ 'completed': todo.completed }"
        >
          <input
            type="checkbox"
            ng-model="todo.completed"
            ng-change="vm.toggleTodo(todo.id)"
          />
          <span class="todo-text" ng-class="{ 'completed': todo.completed }">
            {{ todo.text }}
          </span>
          <span class="todo-date">{{ todo.createdAt | date:'short' }}</span>
          <button class="delete-btn" ng-click="vm.deleteTodo(todo.id)">
            Delete
          </button>
        </li>
      </ul>

      <!-- Empty State -->
      <div class="empty-state" ng-show="vm.getFilteredTodos().length === 0">
        <p ng-show="vm.currentFilter === 'all'">No todos yet. Add one above!</p>
        <p ng-show="vm.currentFilter === 'active'">
          No active todos. Great job!
        </p>
        <p ng-show="vm.currentFilter === 'completed'">
          No completed todos yet.
        </p>
      </div>

      <!-- Statistics -->
      <div class="stats">
        <strong>Statistics:</strong>
        Total: {{ vm.getTotalCount() }} | Active: {{ vm.getActiveCount() }} |
        Completed: {{ vm.getCompletedCount() }} | Completion Rate: {{
        vm.getCompletionRate() }}%
      </div>
    </div>

    <!-- App Scripts -->
    <!-- <script src="js/app.js"></script>
    <script src="js/services/notificationService.js"></script>
    <script src="js/services/storageService.js"></script>
    <script src="js/services/todoService.js"></script>
    <script src="js/controllers/todoController.js"></script> -->

    <app-root></app-root>
  </body>
</html>
